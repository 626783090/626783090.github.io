<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="ä»£æ™¨ä¼Ÿ"><meta name="copyright" content="ä»£æ™¨ä¼Ÿ"><meta name="generator" content="Hexo 5.2.0"><meta name="theme" content="hexo-theme-yun"><title>javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®° | èåº­éœ²æ°¸ç´ä¹¦æ¶¦ å±±éƒ­æœˆæ˜ç §æµé¥</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.22/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"www.daichenwei.cn","root":"/","title":"ä»£æ™¨ä¼Ÿçš„åšå®¢","version":"1.3.0","mode":"auto","copycode":true,"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=UA-121354150-1"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-121354150-1');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="ä¸€ã€çº¿ç¨‹ç®€ä»‹1.ç±»æ¯”ç±»æ¯”ç°å®ä¸­çš„å¤šä»»åŠ¡ï¼Œåœ¨åŒä¸€ä¸ªæ—¶é—´æ®µï¼ŒåŒæ—¶åšå‡ ä»¶äº‹æƒ… åœ¨ç¨‹åºä¸­å°±æ˜¯ä¸»çº¿ç¨‹ä¸å­çº¿ç¨‹åŒæ—¶è¿›è¡Œä»»åŠ¡ 2.ç¨‹åºè¿›ç¨‹çº¿ç¨‹åœ¨æ“ä½œç³»ç»Ÿä¸­çš„è¿è¡Œçš„ç¨‹åºå°±æ˜¯è¿›ç¨‹ï¼Œè€Œè¿›ç¨‹é€šå¸¸é‡‡ç”¨å¤šçº¿ç¨‹æ‰§è¡Œ  ç¨‹åº æŒ‡ä»¤å’Œæ•°æ®çš„æœ‰åºé›†åˆï¼Œæœ¬èº«æ²¡æœ‰ä»»ä½•è¿è¡Œçš„å«ä¹‰ï¼Œæ˜¯é™æ€æ¦‚å¿µ  è¿›ç¨‹ æ˜¯æ‰§è¡Œç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯ä¸€ä¸ªåŠ¨æ€æ¦‚å¿µï¼Œæ˜¯ç³»ç»Ÿèµ„æºåˆ†é…çš„å•ä½  çº¿ç¨‹ ä¸€ä¸ªè¿›ç¨‹é€šå¸¸åŒ…æ‹¬å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½   3.çº¿">
<meta property="og:type" content="article">
<meta property="og:title" content="javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°">
<meta property="og:url" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="èåº­éœ²æ°¸ç´ä¹¦æ¶¦ å±±éƒ­æœˆæ˜ç §æµé¥">
<meta property="og:description" content="ä¸€ã€çº¿ç¨‹ç®€ä»‹1.ç±»æ¯”ç±»æ¯”ç°å®ä¸­çš„å¤šä»»åŠ¡ï¼Œåœ¨åŒä¸€ä¸ªæ—¶é—´æ®µï¼ŒåŒæ—¶åšå‡ ä»¶äº‹æƒ… åœ¨ç¨‹åºä¸­å°±æ˜¯ä¸»çº¿ç¨‹ä¸å­çº¿ç¨‹åŒæ—¶è¿›è¡Œä»»åŠ¡ 2.ç¨‹åºè¿›ç¨‹çº¿ç¨‹åœ¨æ“ä½œç³»ç»Ÿä¸­çš„è¿è¡Œçš„ç¨‹åºå°±æ˜¯è¿›ç¨‹ï¼Œè€Œè¿›ç¨‹é€šå¸¸é‡‡ç”¨å¤šçº¿ç¨‹æ‰§è¡Œ  ç¨‹åº æŒ‡ä»¤å’Œæ•°æ®çš„æœ‰åºé›†åˆï¼Œæœ¬èº«æ²¡æœ‰ä»»ä½•è¿è¡Œçš„å«ä¹‰ï¼Œæ˜¯é™æ€æ¦‚å¿µ  è¿›ç¨‹ æ˜¯æ‰§è¡Œç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯ä¸€ä¸ªåŠ¨æ€æ¦‚å¿µï¼Œæ˜¯ç³»ç»Ÿèµ„æºåˆ†é…çš„å•ä½  çº¿ç¨‹ ä¸€ä¸ªè¿›ç¨‹é€šå¸¸åŒ…æ‹¬å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½   3.çº¿">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128142617273.png">
<meta property="og:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source/_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128143058023.png">
<meta property="og:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128143244020.png">
<meta property="og:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source/_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128143801837.png">
<meta property="og:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128144047007.png">
<meta property="og:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128144219094.png">
<meta property="og:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128145205437.png">
<meta property="og:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source/_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128145303228.png">
<meta property="og:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128145518376.png">
<meta property="article:published_time" content="2021-01-27T16:00:00.000Z">
<meta property="article:modified_time" content="2021-01-28T07:35:03.003Z">
<meta property="article:author" content="ä»£æ™¨ä¼Ÿ">
<meta property="article:tag" content="å¤šçº¿ç¨‹">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog/source_posts/javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°/image-20210128142617273.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="ä»£æ™¨ä¼Ÿ"><img width="96" loading="lazy" src="/image/Headportrait.jpg" alt="ä»£æ™¨ä¼Ÿ"><span class="site-author-status" title="æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿ">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">ä»£æ™¨ä¼Ÿ</a></div><a class="site-name" href="/about/site.html">èåº­éœ²æ°¸ç´ä¹¦æ¶¦ å±±éƒ­æœˆæ˜ç §æµé¥</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">14</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">8</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://github.com/626783090/626783090.github.io" title="github"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%BA%BF%E7%A8%8B%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">ä¸€ã€çº¿ç¨‹ç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%B1%BB%E6%AF%94"><span class="toc-number">1.1.</span> <span class="toc-text">1.ç±»æ¯”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%A8%8B%E5%BA%8F%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B"><span class="toc-number">1.2.</span> <span class="toc-text">2.ç¨‹åºè¿›ç¨‹çº¿ç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.</span> <span class="toc-text">3.çº¿ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">äºŒã€çº¿ç¨‹çš„å®ç°ï¼ˆé‡ç‚¹ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%E4%B8%8E%E8%B0%83%E7%94%A8%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.1.</span> <span class="toc-text">è°ƒç”¨æ–¹æ³•ä¸è°ƒç”¨å¤šçº¿ç¨‹çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Thread%E7%B1%BB"><span class="toc-number">2.2.</span> <span class="toc-text">Threadç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-thread%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.1.</span> <span class="toc-text">1.threadä½¿ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.ä»£ç å®ç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%BA%94%E7%94%A8"><span class="toc-number">2.2.3.</span> <span class="toc-text">3.åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Runnable%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.3.</span> <span class="toc-text">Runnableæ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Runnable%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.1.</span> <span class="toc-text">1.Runnableä½¿ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-1"><span class="toc-number">2.3.2.</span> <span class="toc-text">2.ä»£ç å®ç°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Callable%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.4.</span> <span class="toc-text">Callableæ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Callable%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.1.</span> <span class="toc-text">1.Callableä½¿ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-2"><span class="toc-number">2.4.2.</span> <span class="toc-text">2.ä»£ç å®ç°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">3.</span> <span class="toc-text">ä¸‰ã€çº¿ç¨‹çš„çŠ¶æ€</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%BA%94%E4%B8%AA%E7%8A%B6%E6%80%81"><span class="toc-number">3.1.</span> <span class="toc-text">çº¿ç¨‹çš„äº”ä¸ªçŠ¶æ€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.</span> <span class="toc-text">çº¿ç¨‹æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%81%9C%E6%AD%A2%E7%BA%BF%E7%A8%8B"><span class="toc-number">3.2.1.</span> <span class="toc-text">1.åœæ­¢çº¿ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BA%BF%E7%A8%8B%E4%BC%91%E7%9C%A0"><span class="toc-number">3.2.2.</span> <span class="toc-text">2.çº¿ç¨‹ä¼‘çœ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BA%BF%E7%A8%8B%E7%A4%BC%E8%AE%A9"><span class="toc-number">3.2.3.</span> <span class="toc-text">3.çº¿ç¨‹ç¤¼è®©</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-join"><span class="toc-number">3.2.4.</span> <span class="toc-text">4.join</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">3.3.</span> <span class="toc-text">è§‚å¯Ÿçº¿ç¨‹çš„çŠ¶æ€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">3.4.</span> <span class="toc-text">çº¿ç¨‹çš„ä¼˜å…ˆçº§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B%EF%BC%88daemon%EF%BC%89"><span class="toc-number">3.5.</span> <span class="toc-text">å®ˆæŠ¤çº¿ç¨‹ï¼ˆdaemonï¼‰</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="toc-number">4.</span> <span class="toc-text">å››ã€çº¿ç¨‹åŒæ­¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95%E4%B8%8E%E5%90%8C%E6%AD%A5%E5%9D%97"><span class="toc-number">4.1.</span> <span class="toc-text">åŒæ­¥æ–¹æ³•ä¸åŒæ­¥å—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%BB%E9%94%81"><span class="toc-number">4.2.</span> <span class="toc-text">æ­»é”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lock-%E9%94%81"><span class="toc-number">4.3.</span> <span class="toc-text">Lock(é”)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E7%BA%BF%E7%A8%8B%E5%8D%8F%E4%BD%9C"><span class="toc-number">5.</span> <span class="toc-text">äº”ã€çº¿ç¨‹åä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.1.</span> <span class="toc-text">ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0"><span class="toc-number">5.2.</span> <span class="toc-text">çº¿ç¨‹æ± </span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://www.daichenwei.cn/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="ä»£æ™¨ä¼Ÿ"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="èåº­éœ²æ°¸ç´ä¹¦æ¶¦ å±±éƒ­æœˆæ˜ç §æµé¥"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-01-28 00:00:00" itemprop="dateCreated datePublished" datetime="2021-01-28T00:00:00+08:00">2021-01-28</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray" itemprop="url" rel="index"><span itemprop="text">ç¬”è®°</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">å¤šçº¿ç¨‹</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="ä¸€ã€çº¿ç¨‹ç®€ä»‹"><a href="#ä¸€ã€çº¿ç¨‹ç®€ä»‹" class="headerlink" title="ä¸€ã€çº¿ç¨‹ç®€ä»‹"></a>ä¸€ã€çº¿ç¨‹ç®€ä»‹</h1><h2 id="1-ç±»æ¯”"><a href="#1-ç±»æ¯”" class="headerlink" title="1.ç±»æ¯”"></a>1.ç±»æ¯”</h2><p>ç±»æ¯”ç°å®ä¸­çš„å¤šä»»åŠ¡ï¼Œåœ¨åŒä¸€ä¸ªæ—¶é—´æ®µï¼ŒåŒæ—¶åšå‡ ä»¶äº‹æƒ…</p>
<p>åœ¨ç¨‹åºä¸­å°±æ˜¯ä¸»çº¿ç¨‹ä¸å­çº¿ç¨‹åŒæ—¶è¿›è¡Œä»»åŠ¡</p>
<h2 id="2-ç¨‹åºè¿›ç¨‹çº¿ç¨‹"><a href="#2-ç¨‹åºè¿›ç¨‹çº¿ç¨‹" class="headerlink" title="2.ç¨‹åºè¿›ç¨‹çº¿ç¨‹"></a>2.ç¨‹åºè¿›ç¨‹çº¿ç¨‹</h2><p>åœ¨æ“ä½œç³»ç»Ÿä¸­çš„è¿è¡Œçš„ç¨‹åºå°±æ˜¯è¿›ç¨‹ï¼Œè€Œè¿›ç¨‹é€šå¸¸é‡‡ç”¨å¤šçº¿ç¨‹æ‰§è¡Œ</p>
<ul>
<li><p>ç¨‹åº</p>
<p>æŒ‡ä»¤å’Œæ•°æ®çš„æœ‰åºé›†åˆï¼Œæœ¬èº«æ²¡æœ‰ä»»ä½•è¿è¡Œçš„å«ä¹‰ï¼Œæ˜¯é™æ€æ¦‚å¿µ</p>
</li>
<li><p>è¿›ç¨‹</p>
<p>æ˜¯æ‰§è¡Œç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯ä¸€ä¸ªåŠ¨æ€æ¦‚å¿µï¼Œæ˜¯ç³»ç»Ÿèµ„æºåˆ†é…çš„å•ä½</p>
</li>
<li><p>çº¿ç¨‹</p>
<p>ä¸€ä¸ªè¿›ç¨‹é€šå¸¸åŒ…æ‹¬å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½</p>
</li>
</ul>
<h2 id="3-çº¿ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µ"><a href="#3-çº¿ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="3.çº¿ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µ"></a>3.çº¿ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µ</h2><ul>
<li>çº¿ç¨‹å°±æ˜¯ç‹¬ç«‹çš„æ‰§è¡Œè·¯å¾„ã€‚</li>
<li>åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå³ä½¿æ²¡æœ‰è‡ªå·±åˆ›å»ºçº¿ç¨‹ï¼Œåå°ä¹Ÿä¼šæœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå¦‚ä¸»çº¿ç¨‹ï¼Œgcçº¿ç¨‹ã€‚</li>
<li>main()ç§°ä¹‹ä¸ºä¸»çº¿ç¨‹ï¼Œä¸ºç³»ç»Ÿçš„å…¥å£ï¼Œç”¨äºæ‰§è¡Œæ•´ä¸ªç¨‹åºã€‚</li>
<li>åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œå¦‚æœå¼€è¾Ÿäº†å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹çš„è¿è¡Œç”±è°ƒåº¦å™¨å®‰æ’è°ƒåº¦ï¼Œè°ƒåº¦å™¨æ˜¯ä¸æ“ä½œç³»ç»Ÿç´§å¯†ç›¸å…³çš„ï¼Œå…ˆåé¡ºåºæ˜¯ä¸èƒ½äººä¸ºå¹²é¢„çš„ã€‚</li>
<li>å¯¹åŒä¸€ä»½èµ„æºæ“ä½œæ—¶ï¼Œä¼šå­˜åœ¨èµ„æºæŠ¢å¤ºçš„é—®é¢˜ï¼Œéœ€è¦åŠ å…¥å¹¶å‘æ§åˆ¶ã€‚</li>
<li>çº¿ç¨‹ä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ï¼Œå¦‚cpuè°ƒåº¦æ—¶é—´ï¼Œå¹¶å‘æ§åˆ¶å¼€é”€ã€‚</li>
<li>æ¯ä¸ªçº¿ç¨‹åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜äº¤äº’ï¼Œå†…å­˜æ§åˆ¶ä¸å½“ä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´</li>
</ul>
<h1 id="äºŒã€çº¿ç¨‹çš„å®ç°ï¼ˆé‡ç‚¹ï¼‰"><a href="#äºŒã€çº¿ç¨‹çš„å®ç°ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="äºŒã€çº¿ç¨‹çš„å®ç°ï¼ˆé‡ç‚¹ï¼‰"></a>äºŒã€çº¿ç¨‹çš„å®ç°ï¼ˆé‡ç‚¹ï¼‰</h1><h2 id="è°ƒç”¨æ–¹æ³•ä¸è°ƒç”¨å¤šçº¿ç¨‹çš„åŒºåˆ«"><a href="#è°ƒç”¨æ–¹æ³•ä¸è°ƒç”¨å¤šçº¿ç¨‹çš„åŒºåˆ«" class="headerlink" title="è°ƒç”¨æ–¹æ³•ä¸è°ƒç”¨å¤šçº¿ç¨‹çš„åŒºåˆ«"></a>è°ƒç”¨æ–¹æ³•ä¸è°ƒç”¨å¤šçº¿ç¨‹çš„åŒºåˆ«</h2><p>run() æ–¹æ³•æ˜¯éœ€è¦æ‰§è¡Œçš„æ–¹æ³•ä½“</p>
<p>start() æ–¹æ³•æ˜¯å¼€å¯å¤šçº¿ç¨‹çš„æ–¹æ³•ä½“</p>
<p><img src="/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog\source_posts\javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°\image-20210128142617273.png" alt="image-20210128142617273" loading="lazy"></p>
<h2 id="Threadç±»"><a href="#Threadç±»" class="headerlink" title="Threadç±»"></a>Threadç±»</h2><p>ä¸å»ºè®®ä½¿ç”¨ï¼Œé¿å…OOPå•ç»§æ‰¿å±€é™æ€§</p>
<h3 id="1-threadä½¿ç”¨æ–¹æ³•"><a href="#1-threadä½¿ç”¨æ–¹æ³•" class="headerlink" title="1.threadä½¿ç”¨æ–¹æ³•"></a>1.threadä½¿ç”¨æ–¹æ³•</h3><ol>
<li><strong>è‡ªå®šä¹‰çº¿ç¨‹ç±»</strong>ç»§æ‰¿Threadç±»</li>
<li><strong>é‡å†™runæ–¹æ³•</strong>ï¼Œç¼–å†™çº¿ç¨‹æ‰§è¡Œä½“</li>
<li>åœ¨<strong>ä¸»çº¿ç¨‹ä¸­</strong>åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œä½¿ç”¨<strong>startæ–¹æ³•</strong>å¯åŠ¨çº¿ç¨‹</li>
</ol>
<h3 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2.ä»£ç å®ç°"></a>2.ä»£ç å®ç°</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestThread01</span>  <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//åœ¨run()æ–¹æ³•ä¸­ç¼–å†™æ‰§è¡Œä½“</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åœ¨å­çº¿ç¨‹ä¸­æ‰§è¡Œ--"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//åœ¨ä¸»çº¿ç¨‹ä¸­åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œä½¿ç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹</span>
        <span class="token class-name">TestThread01</span> testThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestThread01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        testThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ---"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p><strong>æ•ˆæœå¦‚ä¸‹ï¼š</strong></p>
<p>å¹¶è¡Œäº¤æ›¿æ‰§è¡Œï¼Œè½®æµå ç”¨cpu</p>
<img src="/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog\source\_posts\javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°\image-20210128143058023.png" alt="image-20210128143058023" style="zoom:50%;" loading="lazy">

<h3 id="3-åº”ç”¨"><a href="#3-åº”ç”¨" class="headerlink" title="3.åº”ç”¨"></a>3.åº”ç”¨</h3><p><strong>ä»£ç ï¼ˆè¯¦è§£åœ¨æ³¨é‡Šï¼‰ï¼š</strong></p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileUtils</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span>URL<span class="token punctuation">;</span>	

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestThread02</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> filename<span class="token punctuation">;</span>

    <span class="token comment">//æ„é€ å‡½æ•°ä¼ å…¥æ‰€éœ€çš„urlå’Œfilename</span>
    <span class="token keyword">public</span> <span class="token class-name">TestThread02</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> filename<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>filename <span class="token operator">=</span> filename<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//è°ƒç”¨downLoaderæ¥è·å–æ–‡ä»¶</span>
        webDownLoader webDownLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">webDownLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        webDownLoader<span class="token punctuation">.</span><span class="token function">downLoader</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>filename <span class="token operator">+</span> <span class="token string">"ä¸‹è½½å®Œæˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//ä¼ å…¥ä¸‰å¼ å›¾å›¾ç‰‡çš„url</span>
        <span class="token class-name">TestThread02</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestThread02</span><span class="token punctuation">(</span><span class="token string">"https://i0.hdslb.com/bfs/album/"</span> <span class="token operator">+</span>
                <span class="token string">"481ba607ba31e9932b90e383f3698fec4c1d9577.jpg@518w_1e_1c.jpg"</span><span class="token punctuation">,</span> <span class="token string">"pic01.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TestThread02</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestThread02</span><span class="token punctuation">(</span><span class="token string">"https://i0.hdslb.com/bfs/album/"</span> <span class="token operator">+</span>
                <span class="token string">"98d71302c030aa86258eb17a5db084bfadf8ff39.jpg@518w_1e_1c.jpg"</span><span class="token punctuation">,</span> <span class="token string">"pic02.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TestThread02</span> t3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestThread02</span><span class="token punctuation">(</span><span class="token string">"https://i0.hdslb.com/bfs/album/"</span> <span class="token operator">+</span>
                <span class="token string">"70849f611883c3e7feffc730c4f1e7b7173c9695.jpg@518w_1e_1c.jpg"</span><span class="token punctuation">,</span> <span class="token string">"pic03.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//å¼€å§‹å¤šçº¿ç¨‹ä¸‹è½½</span>
        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> webDownLoader
<span class="token punctuation">&#123;</span>
    <span class="token comment">/**
     * é€šè¿‡urlè·å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶ä¿å­˜
     * @param url
     * @param name
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">downLoader</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>

        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">//è°ƒç”¨Commons_ioåŒ…é‡Œé¢çš„æ–¹æ³•copyURLToFile</span>
            <span class="token class-name">FileUtils</span><span class="token punctuation">.</span><span class="token function">copyURLToFile</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">URL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"IOå¼‚å¸¸ï¼ŒdownLoaderå‡ºç°é—®é¢˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p><strong>ç»“æœï¼š</strong></p>
<p><img src="/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog\source_posts\javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°\image-20210128143244020.png" alt="image-20210128143244020" loading="lazy"></p>
<p><del><strong><em>è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„å¯¹å¤šçº¿ç¨‹çš„å°å®è·µï¼Œäº‹å®ä¸Šé€šè¿‡è¿™æ ·è·å–å›¾ç‰‡è¿˜æ˜¯æœ‰è¯¸å¤šé—®é¢˜</em></strong></del></p>
<h2 id="Runnableæ¥å£"><a href="#Runnableæ¥å£" class="headerlink" title="Runnableæ¥å£"></a>Runnableæ¥å£</h2><p>æ¨èä½¿ç”¨ï¼šé¿å…å•ç»§æ‰¿çš„å±€é™æ€§ï¼Œæ–¹ä¾¿åŒä¸€ä¸ªå¯¹è±¡è¢«å¤šä¸ªè¿›ç¨‹è°ƒç”¨</p>
<h3 id="1-Runnableä½¿ç”¨æ–¹æ³•"><a href="#1-Runnableä½¿ç”¨æ–¹æ³•" class="headerlink" title="1.Runnableä½¿ç”¨æ–¹æ³•"></a>1.Runnableä½¿ç”¨æ–¹æ³•</h3><ol>
<li><strong>è‡ªå®šä¹‰MyRunnableç±»</strong>å®ç°Runnableæ¥å£</li>
<li><strong>é‡å†™runæ–¹æ³•</strong>ï¼Œç¼–å†™çº¿ç¨‹æ‰§è¡Œä½“</li>
<li>åœ¨<strong>ä¸»çº¿ç¨‹ä¸­</strong>åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œä½¿ç”¨<strong>startæ–¹æ³•</strong>å¯åŠ¨çº¿ç¨‹</li>
</ol>
<h3 id="2-ä»£ç å®ç°-1"><a href="#2-ä»£ç å®ç°-1" class="headerlink" title="2.ä»£ç å®ç°"></a>2.ä»£ç å®ç°</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestThread03</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//åœ¨run()æ–¹æ³•ä¸­ç¼–å†™æ‰§è¡Œä½“</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åœ¨å­çº¿ç¨‹ä¸­æ‰§è¡Œ--"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//åˆ›å»ºRunableæ¥å£çš„å®ç°ç±»å¯¹è±¡</span>
        <span class="token class-name">TestThread03</span> testThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestThread03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œé€šè¿‡çº¿ç¨‹å¯¹è±¡æ¥å¼€å¯çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯ä»£ç†</span>
        <span class="token class-name">Thread</span> thread <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>testThread<span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//ä¹Ÿå¯ä»¥ç¼©å†™ä¸ºï¼š</span>
        <span class="token comment">//new Thread(testThread).start();</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ---"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</code></pre>

<p><strong>æ•ˆæœå¦‚ä¸‹ï¼š</strong></p>
<p>åœ¨å®ç°çš„æ•ˆæœä¸Šæ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼š</p>
<img src="/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog\source\_posts\javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°\image-20210128143801837.png" alt="image-20210128143801837" style="zoom:50%;" loading="lazy">



<h2 id="Callableæ¥å£"><a href="#Callableæ¥å£" class="headerlink" title="Callableæ¥å£"></a>Callableæ¥å£</h2><p>ä»…ä½œäº†è§£å³å¯</p>
<h3 id="1-Callableä½¿ç”¨æ–¹æ³•"><a href="#1-Callableä½¿ç”¨æ–¹æ³•" class="headerlink" title="1.Callableä½¿ç”¨æ–¹æ³•"></a>1.Callableä½¿ç”¨æ–¹æ³•</h3><p><strong>é€šè¿‡æœåŠ¡æäº¤çº¿ç¨‹</strong></p>
<ol>
<li>å®ç°Callableæ¥å£ï¼Œéœ€è¦è¿”å›å€¼ç±»å‹</li>
<li>é‡å†™callæ–¹æ³•ï¼Œ éœ€è¦æŠ›å‡ºå¼‚å¸¸</li>
<li>åˆ›å»ºç›®æ ‡å¯¹è±¡</li>
<li>åˆ›å»ºæ‰§è¡ŒæœåŠ¡: ExecutorService ser = Executors.newFixedThreadPool(1);</li>
<li>æäº¤æ‰§è¡Œ: Future result1 = ser.submit(t1);</li>
<li>è·å–ç»“æœ: boolean r1 = result1.get()</li>
<li>å…³é—­æœåŠ¡: ser.shutdownNow();</li>
</ol>
<h3 id="2-ä»£ç å®ç°-2"><a href="#2-ä»£ç å®ç°-2" class="headerlink" title="2.ä»£ç å®ç°"></a>2.ä»£ç å®ç°</h3><p>æ”¹è‡ªThreadä¸­çš„åº”ç”¨</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>livorth</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestCallable01</span> <span class="token keyword">implements</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> filename<span class="token punctuation">;</span>

    <span class="token comment">//æ„é€ å‡½æ•°ä¼ å…¥æ‰€éœ€çš„urlå’Œfilename</span>
    <span class="token keyword">public</span> <span class="token class-name">TestCallable01</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> filename<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>filename <span class="token operator">=</span> filename<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//è°ƒç”¨downLoaderæ¥è·å–æ–‡ä»¶</span>
        webDownLoader webDownLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">webDownLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        webDownLoader<span class="token punctuation">.</span><span class="token function">downLoader</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>filename <span class="token operator">+</span> <span class="token string">"ä¸‹è½½å®Œæˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//ä¼ å…¥ä¸‰å¼ å›¾å›¾ç‰‡çš„url</span>
        <span class="token class-name">TestCallable01</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestCallable01</span><span class="token punctuation">(</span><span class="token string">"https://i0.hdslb.com/bfs/album/"</span> <span class="token operator">+</span>
                <span class="token string">"481ba607ba31e9932b90e383f3698fec4c1d9577.jpg@518w_1e_1c.jpg"</span><span class="token punctuation">,</span> <span class="token string">"pic01.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TestCallable01</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestCallable01</span><span class="token punctuation">(</span><span class="token string">"https://i0.hdslb.com/bfs/album/"</span> <span class="token operator">+</span>
                <span class="token string">"98d71302c030aa86258eb17a5db084bfadf8ff39.jpg@518w_1e_1c.jpg"</span><span class="token punctuation">,</span> <span class="token string">"pic02.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TestCallable01</span> t3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestCallable01</span><span class="token punctuation">(</span><span class="token string">"https://i0.hdslb.com/bfs/album/"</span> <span class="token operator">+</span>
                <span class="token string">"70849f611883c3e7feffc730c4f1e7b7173c9695.jpg@518w_1e_1c.jpg"</span><span class="token punctuation">,</span> <span class="token string">"pic03.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//åˆ›å»ºæ‰§è¡ŒæœåŠ¡(å‚æ•°ä¸ºçº¿ç¨‹æ± çš„å¤§å°)</span>
        <span class="token class-name">ExecutorService</span> service <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//æäº¤æ‰§è¡Œ</span>
        <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">></span></span> r1 <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">></span></span> r2 <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>t2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">></span></span> r3 <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>t3<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è·å–ç»“æœ(ä¸å†™åº”è¯¥ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™é‡Œåº”è¯¥æ˜¯ä½œä¸ºä¸€ç§æ£€éªŒå‚æ•°)</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">boolean</span> rs1 <span class="token operator">=</span> r1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">boolean</span> rs2 <span class="token operator">=</span> r2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">boolean</span> rs3 <span class="token operator">=</span> r3<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs2<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> <span class="token operator">|</span> <span class="token class-name">ExecutionException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token comment">//å…³é—­æœåŠ¡</span>
        service<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p><strong>ç»“æœï¼š</strong></p>
<p><img src="/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog\source_posts\javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°\image-20210128144047007.png" alt="image-20210128144047007" loading="lazy"></p>
<h1 id="ä¸‰ã€çº¿ç¨‹çš„çŠ¶æ€"><a href="#ä¸‰ã€çº¿ç¨‹çš„çŠ¶æ€" class="headerlink" title="ä¸‰ã€çº¿ç¨‹çš„çŠ¶æ€"></a>ä¸‰ã€çº¿ç¨‹çš„çŠ¶æ€</h1><h2 id="çº¿ç¨‹çš„äº”ä¸ªçŠ¶æ€"><a href="#çº¿ç¨‹çš„äº”ä¸ªçŠ¶æ€" class="headerlink" title="çº¿ç¨‹çš„äº”ä¸ªçŠ¶æ€"></a>çº¿ç¨‹çš„äº”ä¸ªçŠ¶æ€</h2><p><img src="/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog\source_posts\javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°\image-20210128144219094.png" alt="image-20210128144219094" loading="lazy"></p>
<ol>
<li>åˆ›å»ºçŠ¶æ€ï¼šThread t = new Thread();</li>
<li>å°±ç»ªçŠ¶æ€ï¼šè°ƒç”¨startæ–¹æ³•</li>
<li>è¿è¡ŒçŠ¶æ€ï¼šè¢«cpuè°ƒåº¦æ‰§è¡Œ</li>
<li>é˜»å¡çŠ¶æ€ï¼šè°ƒç”¨sleepã€waitæˆ–åŒæ­¥é”å®šæ—¶ï¼Œè¿›å…¥é˜»å¡çŠ¶æ€</li>
<li>æ­»äº¡çŠ¶æ€ï¼šçº¿ç¨‹ä¸­æ–­æˆ–è€…ç»“æŸï¼Œä¸€æ—¦æ­»äº¡å°±ä¸å†å¯åŠ¨</li>
</ol>
<h2 id="çº¿ç¨‹æ–¹æ³•"><a href="#çº¿ç¨‹æ–¹æ³•" class="headerlink" title="çº¿ç¨‹æ–¹æ³•"></a>çº¿ç¨‹æ–¹æ³•</h2><table>
<thead>
<tr>
<th align="center">æ–¹æ³•</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">setPriority(int newPriority)</td>
<td align="center">æ›´æ”¹çº¿ç¨‹çš„ä¼˜å…ˆçº§</td>
</tr>
<tr>
<td align="center"><strong>static void sleep(long millis)</strong></td>
<td align="center">åœ¨æŒ‡å®šçš„æ¯«ç§’æ•°å†…è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¼‘çœ </td>
</tr>
<tr>
<td align="center"><strong>void join()</strong></td>
<td align="center">ç­‰å¾…è¯¥çº¿ç¨‹ç»ˆæ­¢</td>
</tr>
<tr>
<td align="center"><strong>static void yield()</strong></td>
<td align="center">æš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå…¶ä»–çº¿ç¨‹</td>
</tr>
<tr>
<td align="center">void interrupt()</td>
<td align="center">ä¸­æ–­çº¿ç¨‹ï¼Œåˆ«ç”¨è¿™ä¸ªæ–¹å¼</td>
</tr>
<tr>
<td align="center"><strong>boolean isAlive()</strong></td>
<td align="center">æµ‹è¯•çº¿ç¨‹æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€</td>
</tr>
</tbody></table>
<h3 id="1-åœæ­¢çº¿ç¨‹"><a href="#1-åœæ­¢çº¿ç¨‹" class="headerlink" title="1.åœæ­¢çº¿ç¨‹"></a>1.åœæ­¢çº¿ç¨‹</h3><ol>
<li>ä¸æ¨èä½¿ç”¨JDKæä¾›çš„stop()ã€destroy()ã€‚</li>
<li>æ¨èè®©çº¿ç¨‹è‡ªå·±åœä¸‹æ¥ï¼Œä½†ä¹Ÿä¸å»ºè®®ä½¿ç”¨æ­»å¾ªç¯</li>
<li>å»ºè®®ä½¿ç”¨ä¸€ä¸ªæ ‡å¿—ä½ä½œä¸ºç»ˆæ­¢å˜é‡ï¼Œå½“flag==falseæ—¶ï¼Œçº¿ç¨‹ç»ˆæ­¢è¿è¡Œ</li>
</ol>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestStop</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å­è¿›ç¨‹æ‰§è¡Œä¸­---"</span> <span class="token operator">+</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//è®¾ç½®ä¸ªå…¬å¼€æ–¹æ³•ï¼Œåˆ©ç”¨æ ‡å¿—ä½åœæ­¢çº¿ç¨‹</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">TestStop</span> testStop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>testStop<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸»è¿›ç¨‹æ‰§è¡Œä¸­---"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                testStop<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å­è¿›ç¨‹ç»“æŸè¿è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="2-çº¿ç¨‹ä¼‘çœ "><a href="#2-çº¿ç¨‹ä¼‘çœ " class="headerlink" title="2.çº¿ç¨‹ä¼‘çœ "></a>2.çº¿ç¨‹ä¼‘çœ </h3><ol>
<li>sleep()æ–¹æ³•çš„å•ä½æ˜¯æ¯«ç§’</li>
<li>sleep()å­˜åœ¨å¼‚å¸¸InterruptedException</li>
<li>sleepå®Œäº†çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œä¸ä¼šç›´æ¥è¿›å…¥æ‰§è¡Œæ€</li>
<li>å¯ä»¥ç”¨äºæ¨¡æ‹Ÿç½‘ç»œå»¶æ—¶ï¼Œå€’è®¡æ—¶ç­‰</li>
<li>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªé”ï¼Œsleepä¸é‡Šæ”¾é”</li>
</ol>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p><strong>æ¨¡æ‹Ÿç½‘ç»œå»¶æ—¶å¯ä»¥æ”¾å¤§é—®é¢˜çš„å‘ç”Ÿæ€§</strong></p>
<h3 id="3-çº¿ç¨‹ç¤¼è®©"><a href="#3-çº¿ç¨‹ç¤¼è®©" class="headerlink" title="3.çº¿ç¨‹ç¤¼è®©"></a>3.çº¿ç¨‹ç¤¼è®©</h3><ul>
<li>ç¤¼è®©ä¸ä¸€å®šæˆåŠŸï¼Œyieldæ–¹æ³•æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹è¿›å…¥å°±ç»ªæ€ï¼Œç­‰å¾…cpuçš„è°ƒåº¦</li>
</ul>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"çº¿ç¨‹å¼€å§‹æ‰§è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¤¼è®©</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"çº¿ç¨‹åœæ­¢æ‰§è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="4-join"><a href="#4-join" class="headerlink" title="4.join"></a>4.join</h3><p>joinåˆå¹¶çº¿ç¨‹ï¼Œåªèƒ½æ˜¯å½“å‰çº¿ç¨‹æ‰§è¡Œå®Œä¹‹åæ‰èƒ½æ‰§è¡Œå…¶ä»–çº¿ç¨‹ï¼Œå¯¹å…¶ä»–çº¿ç¨‹é€ æˆé˜»å¡</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestJoin</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å­çº¿ç¨‹æ‰§è¡Œ---"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">TestJoin</span> testJoin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestJoin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>testJoin<span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span>
                <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                    <span class="token comment">//é˜»å¡ä¸»çº¿ç¨‹ï¼Œä½¿å­çº¿ç¨‹ä¼˜å…ˆæ‰§è¡Œå®Œ</span>
                    thread<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸»çº¿ç¨‹æ‰§è¡Œ---"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h2 id="è§‚å¯Ÿçº¿ç¨‹çš„çŠ¶æ€"><a href="#è§‚å¯Ÿçº¿ç¨‹çš„çŠ¶æ€" class="headerlink" title="è§‚å¯Ÿçº¿ç¨‹çš„çŠ¶æ€"></a>è§‚å¯Ÿçº¿ç¨‹çš„çŠ¶æ€</h2><p><img src="/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog\source_posts\javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°\image-20210128145205437.png" alt="image-20210128145205437" loading="lazy"></p>
<p><strong>ä»£ç æ ·ä¾‹ï¼š</strong></p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestState</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Thread</span> thread  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"******"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//å¯åŠ¨å‰</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token class-name">State</span> state <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//NEW</span>

        <span class="token comment">//å¯åŠ¨å</span>
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        state <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//RUNABLE</span>

        <span class="token comment">//é˜»å¡æ—¶ä¸ç»“æŸæ—¶</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>state <span class="token operator">!=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token class-name">State</span><span class="token punctuation">.</span>TERMINATED<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            state <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//TIMED_WAITINGæˆ–è€…TERMINATED</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p><strong>ç»“æœæ ·ä¾‹ï¼š</strong></p>
<img src="/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog\source\_posts\javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°\image-20210128145303228.png" alt="image-20210128145303228" style="zoom:50%;" loading="lazy">

<h2 id="çº¿ç¨‹çš„ä¼˜å…ˆçº§"><a href="#çº¿ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="çº¿ç¨‹çš„ä¼˜å…ˆçº§"></a>çº¿ç¨‹çš„ä¼˜å…ˆçº§</h2><ul>
<li>Javaæä¾›ä¸€ä¸ªçº¿ç¨‹è°ƒåº¦å™¨æ¥ç›‘æ§ç¨‹åºä¸­å¯åŠ¨åè¿›å…¥å°±ç»ªçŠ¶æ€çš„æ‰€æœ‰çº¿ç¨‹ï¼Œçº¿ç¨‹è°ƒåº¦å™¨æŒ‰ç…§ä¼˜å…ˆçº§å†³å®šåº”è¯¥è°ƒåº¦å“ªä¸ªçº¿ç¨‹æ¥æ‰§è¡Œã€‚</li>
<li>çº¿ç¨‹çš„ä¼˜å…ˆçº§ç”¨æ•°å­—è¡¨ç¤ºï¼ŒèŒƒå›´ä»1~10.<ul>
<li>Thread.MIN_ PRIORITY= 1;</li>
<li>Thread.MAX PRIORITY = 10;</li>
<li>Thread.NORM_ PRIORITY= 5;</li>
</ul>
</li>
<li><strong>ä½¿ç”¨ä»¥ä¸‹æ–¹å¼è·å–æˆ–æ”¹å˜ä¼˜å…ˆçº§</strong><ul>
<li>getPriority() ï¼ŒsetPriority(int xxx)</li>
</ul>
</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li><strong>å…ˆè®¾ç½®ä¼˜å…ˆçº§å†å¯åŠ¨</strong></li>
<li>mainæ–¹æ³•çš„é»˜è®¤ä¼˜å…ˆçº§ä¸º5</li>
<li>ç†è®ºä¸Šæ¥è¯´ä¼˜å…ˆçº§è¶Šé«˜çš„è¶Šå…ˆæ‰§è¡Œï¼Œå“ªæ€•ä»–startæ›´æ™š</li>
</ol>
<h2 id="å®ˆæŠ¤çº¿ç¨‹ï¼ˆdaemonï¼‰"><a href="#å®ˆæŠ¤çº¿ç¨‹ï¼ˆdaemonï¼‰" class="headerlink" title="å®ˆæŠ¤çº¿ç¨‹ï¼ˆdaemonï¼‰"></a>å®ˆæŠ¤çº¿ç¨‹ï¼ˆdaemonï¼‰</h2><ul>
<li>çº¿ç¨‹åˆ†ä¸º<strong>ç”¨æˆ·çº¿ç¨‹</strong>å’Œ<strong>å®ˆæŠ¤çº¿ç¨‹</strong></li>
<li>è™šæ‹Ÿæœºå¿…é¡»ç¡®ä¿ç”¨æˆ·çº¿ç¨‹æ‰§è¡Œå®Œæ¯•.</li>
<li>è™šæ‹Ÿæœºä¸ç”¨ç­‰å¾…å®ˆæŠ¤çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</li>
<li>å¦‚ï¼Œåå°è®°å½•æ“ä½œæ—¥å¿—ï¼Œç›‘æ§å†…å­˜ï¼Œåƒåœ¾å›æ”¶ç­‰å¾…â€¦</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestDaemon</span> <span class="token punctuation">&#123;</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
       <span class="token class-name">God</span> god <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">God</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">You</span> you <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">You</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>god<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">//å°†ä¸Šå¸è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œåœ¨falseçš„æ—¶å€™ä¸ºç”¨æˆ·çº¿ç¨‹</span>
       thread<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token comment">//å¼€å¯ä¸€èˆ¬çš„ç”¨æˆ·çº¿ç¨‹</span>
       <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>you<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>


<span class="token keyword">class</span> <span class="token class-name">God</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">&#123;</span>

   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
       <span class="token comment">//ä¸Šå¸æ°¸ç”Ÿï¼Œæ— é™å¾ªç¯</span>
       <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸Šå¸åœ¨ä½ èº«æ—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">You</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">&#123;</span>

   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
       <span class="token comment">//äººç”Ÿæœ‰é™ï¼Œ100å¹´åæ’’æ‰‹äººå¯°</span>
       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"happy everyday"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">&#125;</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"goodbye world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p><strong>ç»“æœï¼š</strong></p>
<p><img src="/2021/01/28/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/blog\source_posts\javaå¤šçº¿ç¨‹åŸºç¡€ç¬”è®°\image-20210128145518376.png" alt="image-20210128145518376" loading="lazy"></p>
<p>ä¸Šå¸æ˜æ˜æ˜¯ä¸ªæ­»å¾ªç¯ï¼Œä½†æ˜¯è¿›ç¨‹è¿˜æ˜¯ç»“æŸäº†ã€‚</p>
<p>å› ä¸ºè¿™é‡Œå°†ä¸Šå¸çº¿ç¨‹è®¾ç½®ä¸ºäº†å®ˆæŠ¤çº¿ç¨‹ï¼Œè™šæ‹Ÿæœºä¸åŠ ä»¥è€ƒè™‘</p>
<h1 id="å››ã€çº¿ç¨‹åŒæ­¥"><a href="#å››ã€çº¿ç¨‹åŒæ­¥" class="headerlink" title="å››ã€çº¿ç¨‹åŒæ­¥"></a>å››ã€çº¿ç¨‹åŒæ­¥</h1><p>å¹¶å‘ï¼šåŒä¸€ä¸ªå¯¹è±¡è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œï¼Œä¹Ÿå°±æ˜¯ä¸åŒçº¿ç¨‹åŒæ—¶æ“ä½œåŒä¸€ä¸ªèµ„æºåœ°å€ï¼Œé€ æˆæ•°æ®ç´Šä¹±</p>
<p>åŒæ­¥ï¼šå¤šä¸ªéœ€è¦åŒæ—¶è®¿é—®èµ„æºçš„çº¿ç¨‹è¿›å…¥å¯¹è±¡çš„ç­‰å¾…æ± ï¼Œç­‰å¾…å‰é¢çº¿ç¨‹ä½¿ç”¨å®Œæ¯•</p>
<p>é”ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰æŠŠé”ï¼Œå½“è·å–å¯¹è±¡æ—¶ï¼Œç‹¬å èµ„æºï¼Œå…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰å¾…ï¼Œä½¿ç”¨ç»“æŸåæ‰é‡Šæ”¾</p>
<ul>
<li>ä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”ä¼šå¯¼è‡´å…¶ä»–æ‰€æœ‰éœ€è¦æ­¤é”çš„çº¿ç¨‹æŒ‚èµ·</li>
<li>åœ¨å¤šçº¿ç¨‹ç«äº‰ä¸‹ï¼ŒåŠ é”ï¼Œé‡Šæ”¾é”ä¼šå¯¼è‡´æ¯”è¾ƒå¤šçš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œè°ƒåº¦å»¶æ—¶ï¼Œå¼•èµ·æ€§èƒ½é—®é¢˜</li>
<li>å¦‚æœä¸€ä¸ªä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹ç­‰å¾…ä¸€ä¸ªä¼˜å…ˆçº§ä½çš„çº¿ç¨‹é‡Šæ”¾é”ï¼Œä¼šå¯¼è‡´ä¼˜å…ˆçº§å€’ç½®ï¼Œå¼•èµ·æ€§èƒ½é—®é¢˜</li>
</ul>
<h2 id="åŒæ­¥æ–¹æ³•ä¸åŒæ­¥å—"><a href="#åŒæ­¥æ–¹æ³•ä¸åŒæ­¥å—" class="headerlink" title="åŒæ­¥æ–¹æ³•ä¸åŒæ­¥å—"></a>åŒæ­¥æ–¹æ³•ä¸åŒæ­¥å—</h2><p><strong>synchronizedå…³é”®å­—</strong></p>
<p>synchronizedé»˜è®¤é”çš„æ˜¯ä»–è‡ªèº«çš„å¯¹è±¡ï¼Œè¦æ˜¯è·¨å¯¹è±¡ï¼Œé€šå¸¸ä½¿ç”¨åŒæ­¥å—ï¼Œå³é”å…±äº«èµ„æºæ‰€åœ¨çš„å¯¹è±¡</p>
<p>1.åŒæ­¥æ–¹æ³•</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token keyword">int</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code></pre>

<p>å› ä¸ºæ¯ä¸ªå¯¹è±¡å¯¹åº”ä¸€æŠŠé”ï¼Œä½¿ç”¨åŠ äº†å…³é”®å­—ä¹‹åï¼Œæ–¹æ³•ä¸€æ—¦æ‰§è¡Œå°±ç‹¬å è¯¥é”</p>
<p>ç¼ºé™·:è‹¥å°†ä¸€ä¸ªå¤§çš„æ–¹æ³•ç”³æ˜ä¸ºsynchronizedå°†ä¼šå½±å“æ•ˆç‡</p>
<p>2.åŒæ­¥å—</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">synchronized</span><span class="token punctuation">(</span><span class="token class-name">Obj</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code></pre>

<ul>
<li>Objç§°ä¹‹ä¸º<strong>åŒæ­¥ç›‘è§†å™¨</strong><ul>
<li>Objå¯ä»¥æ˜¯ä»»ä½•å¯¹è±¡,ä½†æ˜¯æ¨èä½¿ç”¨å…±äº«èµ„æºä½œä¸ºåŒæ­¥ç›‘è§†å™¨</li>
<li>åŒæ­¥æ–¹æ³•ä¸­æ— éœ€æŒ‡å®šåŒæ­¥ç›‘è§†å™¨,å› ä¸ºåŒæ­¥æ–¹æ³•çš„åŒæ­¥ç›‘è§†å™¨å°±æ˜¯this ,å°±æ˜¯è¿™ä¸ªå¯¹è±¡æœ¬èº«æˆ–è€…æ˜¯class [åå°„ä¸­è®²è§£]</li>
</ul>
</li>
<li>åŒæ­¥ç›‘è§†å™¨çš„æ‰§è¡Œè¿‡ç¨‹:<ol>
<li>ç¬¬ä¸€ä¸ªçº¿ç¨‹è®¿é—®,é”å®šåŒæ­¥ç›‘è§†å™¨,æ‰§è¡Œå…¶ä¸­ä»£ç .</li>
<li>ç¬¬äºŒä¸ªçº¿ç¨‹è®¿é—®,å‘ç°åŒæ­¥ç›‘è§†å™¨è¢«é”å®š,æ— æ³•è®¿é—®</li>
<li>ç¬¬ä¸€ä¸ªçº¿ç¨‹è®¿é—®å®Œæ¯•,è§£é”åŒæ­¥ç›‘è§†å™¨.</li>
<li>ç¬¬äºŒä¸ªçº¿ç¨‹è®¿é—®,å‘ç°åŒæ­¥ç›‘è§†å™¨æ²¡æœ‰é”,ç„¶åé”å®šå¹¶è®¿é—®</li>
</ol>
</li>
</ul>
<h2 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h2><blockquote>
<p>å¤šä¸ªçº¿ç¨‹å„è‡ªå æœ‰ä¸€äº›å…±äº«èµ„æº,<strong>å¹¶ä¸”äº’ç›¸ç­‰å¾…å…¶ä»–çº¿ç¨‹å æœ‰çš„èµ„æº</strong>æ‰èƒ½è¿è¡Œ,è€Œå¯¼è‡´ä¸¤ä¸ªæˆ–è€…å¤šä¸ªçº¿ç¨‹éƒ½åœ¨ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æº,éƒ½åœæ­¢æ‰§è¡Œçš„æƒ…å½¢. æŸä¸€ä¸ªåŒæ­¥å—åŒæ—¶æ‹¥æœ‰â€œ<strong>ä¸¤ä¸ªä»¥ä¸Šå¯¹è±¡çš„é”</strong>â€æ—¶,å°±å¯èƒ½ä¼šå‘ç”Ÿâ€œæ­»é”â€çš„é—®é¢˜.</p>
</blockquote>
<p>æˆ‘çš„ç†è§£ï¼š</p>
<p> å¼ ä¸‰å ç”¨ç€Aèµ„æºï¼Œç­‰ç€Bèµ„æºï¼Œæå››å ç”¨ç€Bèµ„æºï¼Œç­‰ç€Aèµ„æº</p>
<p> å¼ ä¸‰åŒæ—¶æœ‰ABèµ„æºæ‰èƒ½å®Œæˆä»»åŠ¡ï¼Œæå››ä¹Ÿä¸€æ ·ï¼Œä½†æ˜¯ä¸¤ä¸ªäººè°éƒ½ä¸ä¼šå…ˆæ”¾æ‰‹</p>
<p> ç„¶åå°±è¿›å…¥äº†æ­»é”</p>
<p><strong>äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶</strong>:</p>
<ol>
<li>äº’æ–¥æ¡ä»¶: ä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨</li>
<li>è¯·æ±‚ä¸ä¿æŒæ¡ä»¶: ä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾</li>
<li>ä¸å‰¥å¤ºæ¡ä»¶: è¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœ«ä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤º</li>
<li>å¾ªç¯ç­‰å¾…æ¡ä»¶: è‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»</li>
</ol>
<p><strong>åªè¦ç ´é™¤ä»»æ„ä¸€ä¸ªå°±èƒ½é¿å…æ­»é”</strong></p>
<h2 id="Lock-é”"><a href="#Lock-é”" class="headerlink" title="Lock(é”)"></a>Lock(é”)</h2><p>é€šè¿‡æ˜¾ç¤ºå®šä¹‰åŒæ­¥é”å¯¹è±¡ï¼ˆLockï¼‰æ¥å®ç°åŒæ­¥</p>
<p><strong>ReentrantLockç±»å®ç°äº†Lockæ¥å£ï¼Œå®ƒæ‹¥æœ‰ä¸synchronizedç›¸åŒçš„å¹¶å‘æ€§å’Œå†…å­˜è¯­ä¹‰ï¼Œåœ¨å®ç°çº¿ç¨‹å®‰å…¨çš„æ§åˆ¶ä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ReentrantLock,å¯ä»¥æ˜¾å¼åŠ é”ã€é‡Šæ”¾é”ã€‚</strong></p>
<p>æ¼”ç¤ºä»£ç ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>locks<span class="token punctuation">.</span></span><span class="token class-name">ReentrantLock</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestLock</span> <span class="token punctuation">&#123;</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">TestLock2</span> testLock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestLock2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>testLock<span class="token punctuation">,</span> <span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>testLock<span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>testLock<span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">TestLock2</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">&#123;</span>
<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

<span class="token comment">//å®šä¹‰locké”</span>
<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ReentrantLock</span> lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">//è¿›å…¥åŠ é”çŠ¶æ€</span>
            lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"---"</span> <span class="token operator">+</span>count<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">//è§£é”</span>
            lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¯´æ˜ï¼š</p>
<p>åœ¨ä¸åŠ é”çš„æƒ…å†µä¸‹ï¼ŒABCå¯èƒ½ä¼šåŒæ—¶æ“ä½œåˆ°countï¼Œå¯¼è‡´æ•°æ®ç´Šä¹±</p>
<p>åœ¨åŠ äº†é”ä¹‹åï¼ŒABCæ’é˜Ÿæ“ä½œ</p>
<h1 id="äº”ã€çº¿ç¨‹åä½œ"><a href="#äº”ã€çº¿ç¨‹åä½œ" class="headerlink" title="äº”ã€çº¿ç¨‹åä½œ"></a>äº”ã€çº¿ç¨‹åä½œ</h1><h2 id="ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼"><a href="#ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼" class="headerlink" title="ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼"></a>ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼</h2><p>ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å…±äº«ä¸€ä¸ªèµ„æºï¼ŒåŒæ—¶ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…ç›¸äº’ä¾èµ–äº’ä¸ºæ¡ä»¶</p>
<ul>
<li>ç”Ÿäº§è€…è®¿é—®ä»“åº“ï¼Œå¾€é‡Œé¢æ”¾ï¼›æ¶ˆè´¹è€…ä¹Ÿè¦è®¿é—®ï¼Œä½†æ˜¯åªæ‹¿</li>
</ul>
<p>ä¸»è¦æ˜¯ç”¨ä»¥ä¸‹æ–¹æ³•è¾¾åˆ°é€šä¿¡çš„æ•ˆæœï¼š</p>
<ol>
<li>wait()ï¼šå…ˆé‡Šæ”¾èµ„æºï¼Œå¹¶å¼€å§‹ç­‰å¾…</li>
<li>wait(long timeout)ï¼šé‡Šæ”¾èµ„æºç­‰å¾…timeoutç§’</li>
<li>notify()ï¼šå”¤é†’ä¸€ä¸ªå¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹</li>
<li>notifyAll()ï¼šå”¤é†’åŒä¸€ä¸ªå¯¹è±¡ä¸Šæ‰€æœ‰è°ƒç”¨äº†wait()æ–¹æ³•çš„çº¿ç¨‹ï¼Œä¼˜å…ˆçº§é«˜çš„ä¼˜å…ˆè°ƒåº¦</li>
</ol>
<p><strong>è§£å†³æ–¹å¼ï¼š</strong></p>
<p>1.ç®¡ç¨‹æ³•</p>
<p>è®¾ç½®ä¸€ä¸ªç¼“å†²åŒºï¼Œç”¨äºæš‚å­˜æ•°æ®</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">LinkedList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Queue</span><span class="token punctuation">;</span>

<span class="token comment">//ç®¡ç¨‹æ³•è§£å†³</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestPC</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//åˆ›å»ºç¼“å†²åŒº</span>
        <span class="token class-name">SynContainer</span> container <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">SynContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//åŒçº¿ç¨‹</span>
        <span class="token keyword">new</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Consumer</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//ç”Ÿäº§è€…</span>
<span class="token keyword">class</span> <span class="token class-name">Producer</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">SynContainer</span> container<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span><span class="token class-name">SynContainer</span> container<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>container <span class="token operator">=</span> container<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç”Ÿäº§äº†ç¬¬"</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">"ä»¶äº§å“"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            container<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Products</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//æ¶ˆè´¹è€…</span>
<span class="token keyword">class</span> <span class="token class-name">Consumer</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">SynContainer</span> container<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Consumer</span><span class="token punctuation">(</span><span class="token class-name">SynContainer</span> container<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>container <span class="token operator">=</span> container<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆè´¹äº†ç¬¬"</span> <span class="token operator">+</span> container<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">"ä»¶äº§å“"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//äº§å“</span>
<span class="token keyword">class</span> <span class="token class-name">Products</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> id<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Products</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//ç¼“å†²åŒº</span>
<span class="token keyword">class</span> <span class="token class-name">SynContainer</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Products</span><span class="token punctuation">></span></span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Products</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token comment">//ç”Ÿäº§è€…æ”¾å…¥äº§å“</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">Products</span> product<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token comment">//å®¹å™¨æ»¡ï¼Œç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">==</span> size<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token comment">//æ²¡æ»¡ï¼Œæˆ‘ä»¬åˆ™éœ€è¦å­˜å…¥æˆå“,å¹¶å”¤é†’æ¶ˆè´¹è€…</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
        queue<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//æ¶ˆè´¹è€…æ¶ˆè´¹äº§å“</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token class-name">Products</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token comment">//å®¹å™¨ä¸ºç©ºï¼Œç­‰å¾…ç”Ÿäº§è€…ç”Ÿäº§</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token comment">//å®¹å™¨æœ‰å‰©ï¼Œå–å‡ºç‰©å“ï¼Œå¹¶å‘Šè¯‰ç”Ÿäº§è€…å¯ä»¥ç”Ÿäº§äº†</span>
        count<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token class-name">Products</span> productPoll <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> productPoll<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>2.ä¿¡å·ç¯æ³•</p>
<p>è®¾ç½®ä¸€ä¸ªæ ‡è®°ä½ï¼ˆç±»ä¼¼äºå®¹é‡ä¸º1çš„ç®¡ç¨‹æ³•ï¼‰</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">//ä¿¡å·ç¯æ³•è§£å†³</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestPC2</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//åˆ›å»ºç¼“å†²åŒº</span>
        <span class="token class-name">TheProduct</span> theProduct <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">TheProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//åŒçº¿ç¨‹</span>
        <span class="token keyword">new</span> <span class="token class-name">Producers</span><span class="token punctuation">(</span>theProduct<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Consumers</span><span class="token punctuation">(</span>theProduct<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//ç”Ÿäº§è€…</span>
<span class="token keyword">class</span> <span class="token class-name">Producers</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">TheProduct</span> theProduct<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Producers</span><span class="token punctuation">(</span><span class="token class-name">TheProduct</span> theProduct<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>theProduct <span class="token operator">=</span> theProduct<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            theProduct<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"äº§å“"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//æ¶ˆè´¹è€…</span>
<span class="token keyword">class</span> <span class="token class-name">Consumers</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">TheProduct</span> theProduct<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Consumers</span><span class="token punctuation">(</span><span class="token class-name">TheProduct</span> container<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>theProduct <span class="token operator">=</span> container<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            theProduct<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//äº§å“</span>
<span class="token keyword">class</span> <span class="token class-name">TheProduct</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> product<span class="token punctuation">;</span>
    <span class="token comment">//ç”Ÿäº§è€…ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…ç­‰å¾…</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">String</span> product<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç”Ÿäº§è€…ç”Ÿäº§äº†"</span> <span class="token operator">+</span> product<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>product <span class="token operator">=</span> product<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>flag<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>

    <span class="token comment">//æ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œç”Ÿäº§è€…ç­‰å¾…</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆè´¹è€…æ¶ˆè´¹äº†"</span> <span class="token operator">+</span> product<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>flag<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>



<h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><ul>
<li>èƒŒæ™¯:ç»å¸¸åˆ›å»ºå’Œé”€æ¯ã€ä½¿ç”¨é‡ç‰¹åˆ«å¤§çš„èµ„æºï¼Œæ¯”å¦‚å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ï¼Œå¯¹æ€§èƒ½å½±å“å¾ˆå¤§</li>
<li>æ€è·¯:æå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹ï¼Œæ”¾å…¥çº¿ç¨‹æ± ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥è·å–,ä½¿ç”¨å®Œæ”¾å›æ± ä¸­ï¼Œå¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ã€å®ç°é‡å¤åˆ©ç”¨ã€‚ç±»ä¼¼ç”Ÿæ´»ä¸­çš„å…¬å…±äº¤é€šå·¥å…·</li>
<li>å¥½å¤„:<ul>
<li>æé«˜å“åº”é€Ÿåº¦(å‡å°‘äº†åˆ›å»ºæ–°çº¿ç¨‹çš„æ—¶é—´)</li>
<li>é™ä½èµ„æºæ¶ˆè€—(é‡å¤åˆ©ç”¨çº¿ç¨‹æ± ä¸­çº¿ç¨‹ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»º)</li>
<li>ä¾¿äºçº¿ç¨‹ç®¡ç†<ul>
<li>corePoolSize:æ ¸å¿ƒæ± çš„å¤§å°</li>
<li>maximumPoolSize: æœ€å¤§çº¿ç¨‹æ•°</li>
<li>keepAliveTime: çº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´åä¼šç»ˆæ­¢</li>
</ul>
</li>
</ul>
</li>
</ul>
</div></section></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/01/05/ES%E4%B8%8E%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1/" rel="next" title="ESä¸å¼‚æ­¥ä»»åŠ¡"><span class="post-nav-text">ESä¸å¼‚æ­¥ä»»åŠ¡</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2020 â€“ 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> ä»£æ™¨ä¼Ÿ</span></div><div class="live_time"><span>å’Œlsåœ¨ä¸€èµ·</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  window.setTimeout(blog_live_time, 1000);
  const start = new Date('2020-05-08T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>